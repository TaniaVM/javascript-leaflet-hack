<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Small Businesses NY</title>
  <meta name="description" content="Small Businesses NY">
  <meta name="TaniaVara" content="SitePoint">

  <!-- <link rel="stylesheet" href="css/styles.css?v=1.0"> -->

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
  <style type="text/css">
  header {
    text-align: center;
    background-image: url("http://www.nyc-cpa.com/images/image_library/original_images/istock_000006783223small.jpg");
    height:400px;
    
    background-size: cover;
    color: white;
  }
  a {
    color: white;
  }
  h1 {
    font-size: 50px;
  }
    h2 {
    font-size: 25px;
  }
  img.Profile {
    width: 200px;
  height: 150px;
  margin: 40px 0px -40px 0px;
    border: 3px solid black;
    border-radius: 20px;
  }
  ul {
    padding: 10px;
    background: rgba(0,0,0,0.5);
  }
  li {
    display: inline;
    padding: 0px 10px 0px 10px;
  }
  article {
    max-width: 500px;
    padding: 20px;
    margin: 0 auto;
  }
  @media (max-width: 500px) {
    h1 {
      font-size: 36px;
      padding: 5px;
    }
    li {
      padding: 5px;
      display: block;
    }
  }
    body, html {
      font-family: sans-serif;
    }
    .arrayItem {
      color: steelblue;
      font-size: 24px;
    }
    #myMap {
      width: 50%;
      height: 400px;
      background-color: gray;
      align: center;
    }
    button {
      width: 100px;
      height: 73px;
      margin-bottom: 50px;
      font-size: 18px;
      border-radius: 10px;
      margin-right: 10px;
    }
  </style>
  <header>
    <img class="Profile" src="http://vedc.org/getattachment/75654483-98f7-4bd8-8a07-0dfe4243b847/VEDC-and-JPMorgan-Chase-Announce-Loan-Fund-for-Afr.aspx">
    <h1>SMALL BUSINESSES NY</h1>
    <ul>
      <li><a href="#">Goal</a></li>
      <li><a href="#">Application</a></li>
      <li><a href="#">Background</a></li>
      <li><a href="#">Methodology</a></li>
      <li><a href="#">Activities</a></li>
      <li><a href="#">Impact</a></li>
    </ul>
</header>
</head>

<body>
  <h2> <b>The following map shows the Zip Codes that had a decrease in the amount of small businesses in New York </b><br>Type o business: Accommodation and food services </h2>
  <div id='arrayItems'></div>


  <button id="one" class="myButton">Uptown</button>
  <button id="two" class="myButton">Downtown</button>
  <button id="three" class="myButton">Brooklyn</button>

  <div id="myMap"></div>


  <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
  <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
  <script type="text/javascript">
  var myName = 'Chris'; //type string
  var firstNumber = 5; //type number
  var secondNumber = 10; //type number
  var notActuallyANumber = '5'; //type string
  console.log(typeof(myName)); //log to the console the type of myName (string)
  console.log(typeof(firstNumber));
  console.log('notActuallyANumber is of type ',typeof(notActuallyANumber));
  var convertedString = parseInt(notActuallyANumber);
  console.log('convertedString is of type ',typeof(convertedString));
  //functions
  //this function accepts a number and adds 5 to it.
  function addFive( number ) {
    console.log('Running function addFive()...');
    var typeOfInput = typeof(number);
    console.log(typeOfInput);
    if ( typeOfInput == 'number') {
      return number + 5 ;
    } else {
      //alert('Someone tried to call addFive() but did not pass a number!')
    }
    console.log('The number passed in was ', number)
    
  }
  var output = addFive(5);
  console.log('Output: ', output);
  var output2 = addFive('five');
  console.log('Output: ', output2);
  //arrays
  var myArray = ['Period: 2004 and 2013'];  
  console.log(myArray);
  //how to call an element in an array
  var firstElement = myArray[1];
  console.log('2nd:',firstElement);
  //loop  "walk the array"
  myArray.forEach(function(item) {
    console.log('walking the array', item);
    $('#arrayItems').append('<div class="arrayItem">' + item + '</div><br/>');
  });
 
  //CartoDB Basemap
  var layer = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',{
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'
  });
  var myMapData = [
    {name: "<b>ZIP 10172 (New York, NY)</b><br>2004: 8<br>2013: 1",coord:[40.755494,-73.97447]},{name: "<b>ZIP 10081 (New York, NY)</b><br>2004: 4<br>2013: 1",coord:[40.780751,-73.977182]},{name: "<b>ZIP 10041 (New York, NY)</b><br>2004: 3<br>2013: 1",coord:[40.703042,-74.01009]},{name: "<b>ZIP 10154 (New York, NY)</b><br>2004: 3<br>2013: 1",coord:[40.757986,-73.97267]},{name: "<b>ZIP 10110 (New York, NY)</b><br>2004: 2<br>2013: 1",coord:[40.753987,-73.980811]},{name: "<b>ZIP 10111 (New York, NY)</b><br>2004: 6<br>2013: 3",coord:[40.759235,-73.97775]},{name: "<b>ZIP 10123 (New York, NY)</b><br>2004: 2<br>2013: 1",coord:[40.751489,-73.990537]},{name: "<b>ZIP 10173 (New York, NY)</b><br>2004: 2<br>2013: 1",coord:[40.754302,-73.97955]},{name: "<b>ZIP 11241 (Brooklyn, NY)</b><br>2004: 2<br>2013: 1",coord:[40.645099,-73.945032]},{name: "<b>ZIP 10021 (New York, NY)</b><br>2004: 396<br>2013: 208",coord:[40.76842,-73.96045]},{name: "<b>ZIP 10103 (New York, NY)</b><br>2004: 6<br>2013: 4",coord:[40.760915,-73.97785]},{name: "<b>ZIP 10107 (New York, NY)</b><br>2004: 3<br>2013: 2",coord:[40.766429,-73.982728]},{name: "<b>ZIP 10285 (New York, NY)</b><br>2004: 3<br>2013: 2",coord:[40.71533,-74.016306]},{name: "<b>ZIP 10166 (New York, NY)</b><br>2004: 11<br>2013: 8",coord:[40.754591,-73.976238]},{name: "<b>ZIP 10020 (New York, NY)</b><br>2004: 48<br>2013: 39",coord:[40.758667,-73.98024]},{name: "<b>ZIP 10280 (New York, NY)</b><br>2004: 6<br>2013: 5",coord:[40.707467,-74.0178]},{name: "<b>ZIP 10281 (New York, NY)</b><br>2004: 14<br>2013: 12",coord:[40.714643,-74.014958]},{name: "<b>ZIP 11239 (Brooklyn, NY)</b><br>2004: 7<br>2013: 6",coord:[40.645848,-73.87919]},{name: "<b>ZIP 10006 (New York, NY)</b><br>2004: 56<br>2013: 51",coord:[40.707904,-74.01342]},{name: "<b>ZIP 10038 (New York, NY)</b><br>2004: 218<br>2013: 206",coord:[40.709677,-74.00365]},{name: "<b>ZIP 10024 (New York, NY)</b><br>2004: 200<br>2013: 190",coord:[40.786387,-73.97709]},
  ]
//   //Stamen Watercolor Basemap
//   var Stamen_Watercolor = L.tileLayer('http://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}', {
//   attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
//   subdomains: 'abcd',
//   minZoom: 1,
//   maxZoom: 16,
//   ext: 'png'
// });
  var uptown = [40.793441, -73.954618];
  var downtown = [40.706913,-73.987513]; 
  var brook2 = [40.645848,-73.87919]; 
  var myZoom = 12;
  //now the fun stuff:  leaflet!
  var map = L.map('myMap').setView(uptown, myZoom);
  map.addLayer(layer)
  // //Let's add a marker
  // var marker = L.marker([40.768058,-73.981891]).addTo(map);
  // marker.bindPopup("<b>Hello world!</b><br>I am a popup.")
  //Now let's use our custom-made array to make many markers
  myMapData.forEach(function(element) {
    var marker = L.marker(element.coord).addTo(map);
    marker.bindPopup("<b>Number of small businesses</b><br>*" + element.name)
  });
  var panOptions = {
    animate: true,
    duration: 2
  }
    $(".myButton").click(function() {
      if ($(this).attr('id') == 'one' ) {
        $(this).css('background-color','steelblue');
        map.panTo(uptown, panOptions);

      } 
      else 
        if
        
        ($(this).attr('id') == 'two' ) {
          $(this).css('background-color','steelblue');
          map.panTo(downtown, panOptions);
        } 

        else  {

        $(this).css('background-color','steelblue');
        map.panTo(brook2, panOptions);

      }
    });
  </script>
</body>
</html>